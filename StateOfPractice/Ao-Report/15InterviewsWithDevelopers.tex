\chapter{Interviews with Developers}
\label{ch_interview}

Our method involves interviews with developers in the MI domain (Section \ref{sec_applying_method}). We summarize some answers from the interviews in this section. We highlight the answers that are the most informative and interesting in this section, and summarize the rest in Appendix \ref{ap_interview}.

We interviewed nine developers from eight of the 29 MI software projects. The eight projects are \textit{3D Slicer}, \textit{INVESALIUS 3}, \textit{dwv}, \textit{BioImage Suite Web}, \textit{ITK-SNAP}, \textit{MRIcroGL}, \textit{Weasis}, and \textit{OHIF}. We spent about 90 minutes for each interview and asked 20 prepared questions. We also asked following-up questions when we thought it was worth diving deeper. One participant was too busy to have an interview, so they wrote down their answers. The interviewees may have provided multiple answers to each question. Thus, when counting the number of answers, the total result is sometimes larger than nine.

\section{Current and Past Pain Points}
\label{sec_interview_pain_points}

By asking questions \hyperlink{q9}{9}, \hyperlink{q10}{10}, and \hyperlink{q12}{12}, we tried to identify the pain points during the development process in the eight projects. The pain points include current and past obstacles. We also asked the interviewees how they would solve the problems. This section contains the answers to \hyperlink{rq4}{RQ4}. Questions 9, 10, and 12 are as follows:

\begin{description}
\item[Q9.] \hypertarget{q9}Currently, what are the most significant obstacles in your development process?
\item[Q10.] \hypertarget{q10}How might you change your development process to remove or reduce these obstacles?
\item[Q12.] \hypertarget{q12}In the past, is there any major obstacle to your development process that has been solved? How did you solve it?
\end{description}

Table \ref{tab_obstacles} shows the number of times the interviewees mentioned the current and past obstacles in their projects.

\begin{table}[H]
\centering
\begin{tabular}{llll}
\hline
\multirow{2}{*}{Category} & \multirow{2}{*}{Obstacle} & \multicolumn{2}{c}{Num ans.} \\ \cline{3-4} 
 &  & current & past \\ \hline
\multirow{2}{*}{Resource} & Lack of fundings & 3 &  \\
 & Lack of time to devote to the project & 2 & 1 \\ \hdashline
\multirow{3}{*}{Balance} & Hard to keep up with changes in OS and libraries & 1 &  \\
 & Hard to support multiple OS & 2 &  \\
 & Hard to support lower-end computers & 1 & 2 \\ \hdashline
Testing & Lack of access to real-world datasets for testing & 3 & 2 \\ \hdashline
\multirow{7}{*}{Others}
 & Hard to have a high level roadmap from the start & 1 &  \\
 & Not enough participants for usability tests & 1 &  \\
 & Only a few people fully understand the large codebase & 1 &  \\
 & Hard to transfer to new technologies & & 2 \\
 & Hard to understand users' needs & & 1 \\
 & Hard to maintain good documentations & & 1 \\ \hline
\end{tabular}
\caption{\label{tab_obstacles}Current and past obstacles by the numbers of interviewees with the answers}
\end{table}

The interviewees provided some potential and proven solutions for the problems in Table \ref{tab_obstacles}. We group these pain points into three major categories of obstacles: \textit{resource}, \textit{balance}, and \textit{testing}. We put the less mentioned ones into the category \textit{Others}. Sections \ref{sec_pain_points_1}, \ref{sec_pain_points_2}, and \ref{sec_pain_points_3} include further discussion about the three major groups of pain points and their solutions.

\subsection{Resource Pain Points}
\label{sec_pain_points_1}
We summarize the pain points in the \textit{resource} category as
\textbf{the lack of fundings and time.}

The potential and proven solutions are:

\noindent\textit{Potential solutions from interviewees:}
\begin{itemize}
\item when the team does not have enough developers for building new features and fixing bugs at the same time, shifting from development mode toward maintenance mode;
\item licensing the software to commercial companies that integrate it into their products;
\item better documentation to save time for answering users' and developers' questions;
\item supporting third-party plugins and extensions.
\end{itemize}

\noindent\textit{Proven solutions from interviewees:}
\begin{itemize}
\item GitHub Actions, which is a good CI/CD tool to save time.
\end{itemize}

Many interviewees thought lack of fundings and lack of time were the most significant obstacles. The interviewees from \textit{3D Slicer} team and \textit{OHIF} team pointed out that it was more challenging to get fundings for software maintenance as opposed to research. The interviewee from the \textit{ITK-SNAP} team thought more fundings was a way to solve the lack of time problem, because they could hire more dedicated developers. On the other hand, the interviewee from the \textit{Weasis} team did not think that fundings could solve the same problem, since he still would need a lot of time to supervise the project.

No interviewee suggested any solution to bring extra funding to the project. However, they provided ideas to save time, such as better documentation, third-party plugins, and good CI/CD tools.

\subsection{Balance Pain Points}
\label{sec_pain_points_2}
We summarize the pain points in the \textit{balance} category as
\textbf{the difficulty to balance between four factors: cross-platform compatibility, convenience to development \& maintenance, performance, and security.} They are also related to the choice between native application and web application.

The potential and proven solutions are:

\noindent\textit{Potential solutions from interviewees:}
\begin{itemize}
\item web applications that use computing power from computers GPU;
\item to better support lower-end computers, adopting a web-based approach with backend servers;
\item to better support lower-end computers, using memory-mapped files to consume less computer memory;
\item more funding;
\item maintaining better documentations to ease the development \& maintenance processes;
\end{itemize}

\noindent\textit{Proven solutions from interviewees:}
\begin{itemize}
\item one interviewee saw the performance problem disappeared over the years when computers became more and more powerful. 
\end{itemize}

Table \ref{tab_native_vs_web} shows the teams' choices between native application and web application. In all the 29 teams on our list, most of them chose to develop native applications. For the eight teams we interviewed, three of them were building web applications, and the \textit{MRIcroGL} team was considering web-based solutions. So we had a good chance to discuss the differences between the two choices with the interviewees.

\begin{table}[H]
\centering
\begin{tabular}{lll}
\hline
Software team & Native application & Web application \\ \hline
3D Slicer & X & \\
INVESALIUS 3 & X & \\
dwv & & X \\
BioImage Suite Web & & X \\
ITK-SNAP & X & \\
MRIcroGL & X & \\
Weasis & X & \\
OHIF & & X \\ \hdashline
Total number among the eight teams & 5 & 3 \\
Total number among the 29 teams & 24 & 5 \\ \hline
\end{tabular}
\caption{\label{tab_native_vs_web}Teams' choices between native application and web application}
\end{table}

The interviewees talked about the advantages and disadvantages of the two choices. We summarize the opinions from the interviewees in Table \ref{tab_pros_cons_native_vs_web}.

\begin{table}[H]
\centering
\hspace*{-2cm}\begin{tabular}{lll}
\hline
 & Native application & Web application \\ \hline
Ad & - higher performance & \begin{tabular}[c]{@{}l@{}}- easy to achieve cross-platform compatibility\\ - simpler build process\end{tabular} \\ \hdashline
Disad & \begin{tabular}[c]{@{}l@{}}- hard to achieve cross-platform compatibility\\ - more complicated build process\end{tabular} & \begin{tabular}[c]{@{}l@{}}\textit{Without a backend:} \\ - lower performance\\ \textit{With a backend:} \\ - harder for privacy protection \\ - extra cost for backend servers \end{tabular} \\ \hline
\end{tabular}
\caption{\label{tab_pros_cons_native_vs_web}Advantages and disadvantages of native application and web application}
\end{table}

\subsection{Testing Pain Point}
\label{sec_pain_points_3}
The pain point in the \textit{testing} category is \textbf{the lack of access to real-world datasets for testing.} The information about software testing in this section is part of the answers to \hyperlink{rq3}{RQ3}.

The potential and proven solutions are:

\noindent\textit{Potential solutions from interviewees:}
\begin{itemize}
\item using open datasets
\end{itemize}

\noindent\textit{Proven solutions from interviewees:}
\begin{itemize}
\item asking the users to provide deidentified copies of medical images if they have problems loading the images;
\item sending the beta versions of software to medical workers who can access the data and complete the tests;
\item if (part of) the team belongs to a medical school or a hospital, using the datasets they can access;
\item if the team has access to MRI scanners, self-building sample images for testing;
\item if the team has connections with MI equipment manufacturers, asking for their help on data format problems;
\item storing all images that cause special problems, and maintaining this special dataset over time.
\end{itemize}

No interviewee provided a perfect way to solve this problem. However, connections between the development team and medical professionals/institutions could ease the pain.

\section{Documents in the Projects}
\label{sec_interview_documents}
We tried to understand the interviewees' opinions on documentation and the quality of documentations with questions 11 and 19. The information about documentation is part of the answers to \hyperlink{rq3}{RQ3}.

\begin{description}
\item[Q11.] How does documentation fit into your development process? Would improved documentation help with the obstacles you typically face?
\item[Q19.] Do you think the current documentation can clearly convey all necessary knowledge to the users? If yes, how did you successfully achieve it? If no, what improvements are needed?
\end{description}

Table \ref{tab_opinion_doc} summarizes interviewees' opinions on documentation. Interviewees from each of the eight projects thought that documentation was important to their projects, and most of them said that it could save their time to answer questions from users and developers. Most of them saw the need to improve their documentation, and only three of them thought that their documentations conveyed information clearly enough. 

\begin{table}[H]
\centering
\begin{tabular}{ll}
\hline
Opinion on documentation & Num ans. \\ \hline
Documentation is vital to the project& 8 \\
Documentation of the project needs improvements & 7 \\
Referring to documentation saves time to answer questions & 6 \\
Lack of time to maintain good documentation & 4 \\
Documentation of the project conveys information clearly & 3 \\
Coding is more fun than documentation & 2 \\
Users help each other by referring to documentation & 1 \\ \hline
\end{tabular}
\caption{\label{tab_opinion_doc}Opinions on documentation by the numbers of interviewees with the answers}
\end{table}

Table \ref{tab_doc_tools} lists some of the documentation tools and methods mentioned by the interviewees. This table contains part of the answers to \hyperlink{rq2}{RQ2}.

\begin{table}[H]
\centering
\begin{tabular}{ll}
\hline
Tool or method for documentation & Num ans. \\ \hline
Forum discussions & 3 \\
Videos & 3 \\
GitHub & 2 \\
Mediawiki / wiki pages & 2 \\
Workshops & 2 \\
Social media & 2 \\
Writing books & 1 \\
Google Form & 1 \\
State management & 1 \\ \hline
\end{tabular}
\caption{\label{tab_doc_tools}Tools and methods for documentation by the numbers of interviewees with the answers}
\end{table}

\section{Contribution Management and Project Management}
\label{sec_contribution_pm}
We tried to understand how the teams managed the contributions and their projects by asking the following questions:

\begin{description}
\item[Q5.] Do you have a defined process for accepting new contributions into your team?
\item[Q13.] What is your software development model? For example, waterfall, agile, etc.
\item[Q14.] \hypertarget{q14}What is your project management process? Do you think improving this process can tackle the current problem? Were any project management tools used?
\end{description}

Although some team may have a documented process for accepting new contributions, no one talked about it during the interview. However, most of them mentioned using GitHub and pull requests to manage contributions from the community. The interviewees generally gave very positive feedback on using GitHub. Some also said they had handled the project repository with some other tools, and eventually transferred to git and GitHub. Table \ref{tab_method_receive_contributions} shows the number of times the interviewees mentioned the methods of receiving contributions. This table contains part of the answers to \hyperlink{rq2}{RQ2}.

\begin{table}[H]
\centering
\begin{tabular}{lll}
\hline
\multirow{2}{*}{Method of receiving contributions} & \multicolumn{2}{l}{Num ans.} \\ \cline{2-3} 
 & current & past \\ \hline
GitHub with pull requests & 8 & \\
Code contributions from emails & & 3 \\
Code contributions from forums & & 1 \\
Sharing the git repository by email & & 1 \\ \hline
\end{tabular}
\caption{\label{tab_method_receive_contributions}Methods of receiving contributions by the numbers of interviewees with the answers}
\end{table}

For managing contributions, the \textit{3D Slicer} team encouraged users to develop their extensions for specific use cases, and the \textit{OHIF} team was trying to enable the use of plug-ins; the interviewee from the \textit{ITK-SNAP} team said one way of accepting new team members was through funded academic projects.

Table \ref{tab_developmen_models} shows the software development models by the numbers of interviewees with the answers. Only two interviewees confirmed their development models. The others did not think they used a specific model, but three of them suggested that their processes were similar to Waterfall or 
Agile.

\begin{table}[H]
\centering
\begin{tabular}{ll}
\hline
Software development model & Num ans. \\ \hline
Undefined/self-directed & 3 \\
Similar to Agile & 2 \\
Similar to Waterfall & 1 \\
Agile & 1 \\
Waterfall & 1 \\ \hline
\end{tabular}
\caption{\label{tab_developmen_models}Software development models by the numbers of interviewees with the answers}
\end{table}

Some interviewees mentioned the project management tools they used, which are in Table \ref{tab_pm_tools}. This table contains part of the answers to \hyperlink{rq2}{RQ2}. Generally speaking, the interviewees talked about two types:

\begin{itemize}
\item Trackers, including GitHub, issue trackers, bug trackers and Jira;
\item Documents, including GitHub, Wiki page, Google Doc, and Confluence.
\end{itemize}

\begin{table}[H]
\centering
\begin{tabular}{ll}
\hline
Project management tools & Num ans. \\ \hline
GitHub & 3 \\
Issue trackers & 1 \\
Bug trackers & 1 \\
Jira & 1 \\
Wiki page & 1 \\
Google Doc & 1 \\
Confluence & 1 \\ \hline
\end{tabular}
\caption{\label{tab_pm_tools}Project management tools by the numbers of interviewees with the answers}
\end{table}

No interviewee introduced any strictly defined project management process. The most common way was following the issues, such as bugs and feature requests. Additionally, the \textit{3D Slicer} team had weekly meetings to discuss the goals for the project; the \textit{INVESALIUS 3} team relied on the GitHub process for their project management; the \textit{ITK-SNAP} team had a fixed six-month release pace; only the interviewee from the \textit{OHIF} team mentioned that the team has a project manager; the \textit{3D Slicer} team and \textit{BioImage Suite Web} team were doing nightly builds and tests.

Most interviewees skipped the second part of \hyperlink{q14}{Q14} ``Do you think improving this process can tackle the current problem?". In retrospect, we should not have asked a yes-or-no question, since it is not very informative. The interviewee from the \textit{OHIF} team gave a positive answer to this question. They believed that a better project management process can improve the efficiency of junior developers. They also improved the project management tools (from public Jira to public GitHub repository plus private Jira), so they could better communicate externally and internally.

The information about contribution management and project management in this section is part of the answers to \hyperlink{rq3}{RQ3}.

\section{Discussions on Software Qualities}
\label{sec_interview_software_qualities}
Questions 15--18, and 20 are about the software qualities of \textit{correctness}, \textit{maintainability}, \textit{understandability}, \textit{usability}, and \textit{reproducibility}, respectively. We asked these questions to understand the threats to these qualities and the developers' strategies to improve them. We discuss each quality in a separate section below. This section contains part of the answers to \hyperlink{rq5}{RQ5}.

\subsection{Correctness}
\label{sec_interview_correctness}
\begin{description}
\item[Q15.] Was it hard to ensure the correctness of the software? If there were any obstacles, what methods have been considered or practiced to improve the situation? If practiced, did it work?
\end{description}

Table \ref{tab_q15_threats_correctness} shows the threats to \textit{correctness} by the numbers of interviewees with the answers.

\begin{table}[H]
\centering
\hspace*{-1cm}\begin{tabular}{ll}
\hline
Threat to correctness & Num ans. \\ \hline
Complexity - data in various formats and complicated standards. & 2 \\
Complexity - different MI machines create data in different ways. & 2 \\
Complexity - additional functions besides viewing. & 1 \\
The lack of real word image data for testing. & 1 \\
The team cannot use private data for debugging even when the data cause problems. & 1 \\
With huge datasets for testing, the tests are expensive and time-consuming. & 1 \\
It is hard to manage releases. & 1 \\
The project has no unit tests. & 1 \\
The project has no dedicated quality assurance team. & 1 \\ \hline
\end{tabular}
\caption{\label{tab_q15_threats_correctness}Threats to correctness by the numbers of interviewees with the answers}
\end{table}

Table \ref{tab_q15_strategies_correctness} shows the strategies to ensure \textit{correctness} by the numbers of interviewees with the answers. The interviewees from the \textit{3D Slicer} and \textit{ITK-SNAP} teams thought that the self-tests and automated tests were beneficial and could significantly save time. The interviewee from the \textit{Weasis} team kept collecting medical images for more than ten years. These images have caused problems with the software. So he had samples to test specific problems.

\begin{table}[H]
\centering
\hspace*{-1.5cm}\begin{tabular}{ll}
\hline
Strategy to ensure correctness & Num ans. \\ \hline
Test-driven development, component tests, integration tests, smoke tests, regression tests. & 4 \\
Self tests / automated tests. & 3 \\
Two stage development process / stable release \& nightly builds. & 3 \\
CI/CD. & 1 \\
Using deidentified copies of medical images for debugging. & 1 \\
Sending beta versions to medical workers who can access the data to do the tests. & 1 \\
Collecting and maintaining a dataset of problematic images. & 1 \\ \hline
\end{tabular}
\caption{\label{tab_q15_strategies_correctness}Strategies to ensure correctness by the numbers of interviewees with the answers}
\end{table}

The information about software testing in this section is part of the answers to \hyperlink{rq3}{RQ3}.

\subsection{Maintainability}
\label{sec_interview_maintainability}
\begin{description}
\item[Q16.] \hypertarget{q16}When designing the software, did you consider the ease of future changes? For example, will it be hard to change the system’s structure, modules, or code blocks? What measures have been taken to ensure the ease of future changes and maintains?
\end{description}

Table \ref{tab_q16_strategies_maintainability} shows the strategies to ensure \textit{maintainability} by the numbers of interviewees with the answers. The modular approach is the most talked-about solution to improve \textit{maintainability}. The \textit{3D Slicer} team used a well-defined structure for the software, which they named as ``event-driven MVC pattern''. Moreover, \textit{3D Slicer} discovers and loads necessary modules at runtime, according to the configuration and installed extensions. The \textit{BioImage Suite Web} team had designed and re-designed their software multiple times in the last 10+
years. They found that their modular approach effectively supported the maintainability \cite{Joshi2011}. 

\begin{table}[H]
\centering
\begin{tabular}{ll}
\hline
Strategy to ensure maintainability & Num ans. \\ \hline
Modular approach / maintain repetitive functions as libraries. & 5 \\
Supporting third-party extensions. & 1 \\
Easy-to-understand architecture. & 1 \\
Dedicated architect. & 1 \\
Starting from simple solutions. & 1 \\
Documentation. & 1 \\ \hline
\end{tabular}
\caption{\label{tab_q16_strategies_maintainability}Strategies to ensure maintainability by the numbers of interviewees with the answers}
\end{table}

\subsection{Understandability}
\label{sec_interview_understandability}
\begin{description}
\item[Q17.] \hypertarget{q17}Provide instances where users have misunderstood the software. What, if any, actions were taken to address understandability issues?
\end{description}

Table \ref{tab_q17_threats_understandability} shows the threats to \textit{understandability} by the numbers of interviewees with the answers. It separates \textit{understandability} issues to users and developers by the horizontal dash line.

\begin{table}[H]
\centering
\begin{tabular}{ll}
\hline
Threat to understandability & Num ans. \\ \hline
Not all users understand how to use some features. & 2 \\
The team has no dedicated user experience (UX) designer. & 1 \\
Some important indicators are not noticeable (e.g. a progress bar). & 1 \\
Not all users understand the purpose of the software. & 1 \\
Not all users know if the software includes certain features. & 1 \\
Not all users understand how to use the command line tool. & 1 \\
Not all users understand that the software is a web application. & 1 \\\hdashline
Not all developers understand how to deploy the software. & 1 \\
The architecture is difficult for new developers to understand. & 1 \\ \hline
\end{tabular}
\caption{\label{tab_q17_threats_understandability}Threats to understandability by the numbers of interviewees with the answers}
\end{table}

Table \ref{tab_q17_strategies_understandability} shows the strategies to ensure \textit{understandability} by the numbers of interviewees with the answers.

\begin{table}[H]
\centering
\begin{tabular}{ll}
\hline
Strategy to ensure understandability & Num ans. \\ \hline
Documentation / user manual / user mailing list / forum. & 4 \\
Graphical user interface. & 2 \\
Testing every release with active users. & 1 \\
Making simple things simple and complicated things possible. & 1 \\
Icons with more clear visual expressions. & 1 \\
Designing the software to be intuitive. & 1 \\
Having a UX designer with the right experience. & 1 \\
Dialog windows for important notifications. & 1 \\
Providing an example if the users need to build the software by themselves. & 1 \\ \hline
\end{tabular}
\caption{\label{tab_q17_strategies_understandability}Strategies to ensure understandability by the numbers of interviewees with the answers}
\end{table}

\subsection{Usability}
\label{sec_interview_usability}
\begin{description}
\item[Q18.] \hypertarget{q18}What, if any, actions were taken to address usability issues?
\end{description}

Table \ref{tab_q18_strategies_usability} shows the strategies to ensure \textit{usability} by the numbers of interviewees with the answers. The information about software testing in this table is part of the answers to \hyperlink{rq3}{RQ3}.

\begin{table}[H]
\centering
\begin{tabular}{ll}
\hline
Strategy to ensure usability & Num ans. \\ \hline
Usability tests and interviews with end users. & 3 \\
Adjusting according to users' feedbacks. & 3 \\
Straightforward and intuitively designed interface / professional UX designer. & 2 \\
Providing step-by-step processes, and showing the step numbers. & 1 \\
Making the basic functions easy to use without reading the documentation. & 1 \\
Focusing on limited number of functions. & 1 \\
Making the software more streamlined. & 1 \\
Downsampling images to consume less memory. & 1 \\
An option to load only part of the data to boost performance. & 1 \\ \hline
\end{tabular}
\caption{\label{tab_q18_strategies_usability}Strategies to ensure usability by the numbers of interviewees with the answers}
\end{table}

\subsection{Reproducibility}
\label{sec_interview_reproducibility}
\begin{description}
\item[Q20.] Do you have any concern that your computational results won’t be reproducible in the future? Have you taken any steps to ensure reproducibility?
\end{description}

Table \ref{tab_q20_threats_reproducibility} shows the threats to \textit{reproducibility} by the numbers of interviewees with the answers.

\begin{table}[H]
\centering
\begin{tabular}{ll}
\hline
Threat to reproducibility & Num ans. \\ \hline
If the software is closed-source, the reproducibility is hard to achieve. & 1 \\
The project has no user interaction tests. & 1 \\
The project has no unit tests. & 1 \\
Using different versions of some common libraries may cause problems. & 1 \\
CPU variability can leads to non-reproducibility. & 1 \\
The team may misinterpret how manufacturers create medical images. & 1 \\ \hline
\end{tabular}
\caption{\label{tab_q20_threats_reproducibility}Threats to reproducibility by the numbers of interviewees with the answers}
\end{table}

Table \ref{tab_q20_strategies_reproducibility} shows the strategies to ensure \textit{ reproducibility} by the numbers of interviewees with the answers. The interviewee from the \textit{3D Slicer} team provided various suggestions. One interviewee from another team suggested that they used \textit{3D Slicer} as the benchmark to test their \textit{reproducibility}.

\begin{table}[H]
\centering
\begin{tabular}{ll}
\hline
Strategy to ensure reproducibility & Num ans. \\ \hline
Regression tests / unit tests / having good tests. & 6 \\
Making code, data, and documentation available / OSS / open-source libraries. & 5 \\
Running same tests on all platforms. & 1 \\
A dockerized version of the software,  insulating it from the OS environment. & 1 \\
Using standard libraries. & 1 \\
Monitoring the upgrades of the libraries. & 1 \\
Clearly documenting the versions. & 1 \\
Bringing along the exact versions of all the dependencies with the software. & 1 \\
Providing checksums of the data. & 1 \\
Benchmarking the software against other software with similar purposes. & 1 \\ \hline
\end{tabular}
\caption{\label{tab_q20_strategies_reproducibility}Strategies to ensure  reproducibility by the numbers of interviewees with the answers}
\end{table}

The information about software testing in this section is part of the answers to \hyperlink{rq3}{RQ3}.
